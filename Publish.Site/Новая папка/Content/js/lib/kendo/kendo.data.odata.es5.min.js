"use strict";(function(n,t){t(["./kendo.core"],n)})(function(){return function(n,t){function v(r,u){for(var c=[],k=r.logic||"and",e,a,f,o,s,w,b=r.filters,h=0,y=b.length;h<y;h++)r=b[h],e=r.field,s=r.value,o=r.operator,r.filters?r=v(r,u):(w=r.ignoreCase,e=e.replace(/\./g,"/"),r=l[o],u&&(r=p[o]),o==="isnull"||o==="isnotnull"?r=i.format("{0} {1} null",e,r):o==="isempty"||o==="isnotempty"?r=i.format("{0} {1} ''",e,r):r&&s!==t&&(a=n.type(s),a==="string"?(f="'{1}'",s=s.replace(/'/g,"''"),w===!0&&(e="tolower("+e+")")):a==="date"?u?(f="{1:yyyy-MM-ddTHH:mm:ss+00:00}",s=i.timezone.apply(s,"Etc/UTC")):f="datetime'{1:yyyy-MM-ddTHH:mm:ss}'":f="{1}",r.length>3?r!=="substringof"?f="{0}({2},"+f+")":(f="{0}("+f+",{2})",o==="doesnotcontain"&&(u?(f="{0}({2},'{1}') eq -1",r="indexof"):f+=" eq false")):f="{2} {0} "+f,r=i.format(f,r,s,e))),c.push(r);return r=c.join(" "+k+" "),c.length>1&&(r="("+r+")"),r}function y(n){for(var t in n)t.indexOf("@odata")===0&&delete n[t]}function e(){return Math.floor((1+Math.random())*65536).toString(16).substr(1)}function f(n){return n+e()+"-"+e()+"-"+e()}function o(n,t){var i=r+"--"+n;return t&&(i+="--"),i}function b(n,t,r,u){var f=n.options[u].url,e=i.format("{0} ",r);return c(f)?e+f(t):e+f}function k(n,t){var i="";return i+=o(n,!1),i+=r+"Content-Type: application/http",i+=r+"Content-Transfer-Encoding: binary",i+(r+"Content-ID: "+t)}function d(n){var t="";return t+=r+"Content-Type: application/json;odata=minimalmetadata",t+=r+"Prefer: return=representation",t+(h+i.stringify(n))}function g(n,t,i,u,f,e){for(var o="",s=0;s<n.length;s++)o+=k(t,i),o+=h+b(f,n[s],f.options[u].type,u)+" HTTP/1.1",e||(o+=d(n[s])),o+=r,i++;return o}function s(n,t,i,u,f,e,s){var h="";return h+=nt(t,i),h+=g(n,i,u,e,f,s),h+=o(i,!0),h+r}function nt(n,t){var i="";return i+="--"+n+r,i+("Content-Type: multipart/mixed; boundary="+t+r)}function tt(n,t){var i={},r=f("sf_batch_"),u="",e=0,l=n.options.batch.url,h=f("sf_changeset_");return i.type=n.options.batch.type,i.url=c(l)?l():l,i.headers={"Content-Type":"multipart/mixed; boundary="+r},t.updated.length&&(u+=s(t.updated,r,h,e,n,"update",!1),e+=t.updated.length,h=f("sf_changeset_")),t.destroyed.length&&(u+=s(t.destroyed,r,h,e,n,"destroy",!0),e+=t.destroyed.length,h=f("sf_changeset_")),t.created.length&&(u+=s(t.created,r,h,e,n,"create",!1)),u+=o(r,!0),i.data=u,i}function it(n){var e=n.match(/--changesetresponse_[a-z0-9-]+$/gm),u=0,t=[],o,c,s,r,h,f;for(t.push({models:[],passed:!0}),f=0;f<e.length;f++){if(r=e[f],r.lastIndexOf("--",r.length-1)){f<e.length-1&&t.push({models:[],passed:!0});continue}u=u?n.indexOf(r,u+r.length):n.indexOf(r);o=n.substring(u,n.indexOf("--",u+1));c=o.match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop();s=i.parseFloat(c.match(/\d{3}/g).pop());s>=200&&s<=299?(h=o.match(/\{.*\}/gm),h&&t[t.length-1].models.push(JSON.parse(h[0]))):t[t.length-1].passed=!1}return t}var i=window.kendo,u=n.extend,r="\r\n",h="\r\n\r\n",c=i.isFunction,l={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isempty:"eq",isnotempty:"ne"},p=u({},l,{contains:"contains"}),a={pageSize:n.noop,page:n.noop,filter:function(n,t,i){t&&(t=v(t,i),t&&(n.$filter=t))},sort:function(t,i){var r=n.map(i,function(n){var t=n.field.replace(/\./g,"/");return n.dir==="desc"&&(t+=" desc"),t}).join(",");r&&(t.$orderby=r)},skip:function(n,t){t&&(n.$skip=t)},take:function(n,t){t&&(n.$top=t)}},w={read:{dataType:"jsonp"}};u(!0,i.data,{schemas:{odata:{type:"json",data:function(n){return n.d.results||[n.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(n,t,r){var f,o,u,e;if(n=n||{},t=t||"read",e=(this.options||w)[t],e=e?e.dataType:"json",t==="read"){f={$inlinecount:"allpages"};e!="json"&&(f.$format="json");for(u in n)a[u]?a[u](f,n[u],r):f[u]=n[u]}else{if(e!=="json")throw new Error("Only json dataType can be used for "+t+" operation.");if(t!=="destroy"){for(u in n)o=n[u],typeof o=="number"&&(n[u]=o+"");f=i.stringify(n)}}return f}}}});u(!0,i.data,{schemas:{"odata-v4":{type:"json",data:function(t){if(n.isArray(t)){for(var i=0;i<t.length;i++)y(t[i]);return t}return(t=n.extend({},t),y(t),t.value)?t.value:[t]},total:function(n){return n["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(n,t){var r=i.data.transports.odata.parameterMap(n,t,!0);return t=="read"&&(r.$count=!0,delete r.$inlinecount),r},submit:function(t){var r=this,f=tt(r,t.data),i=t.data;(i.updated.length||i.destroyed.length||i.created.length)&&n.ajax(u(!0,{},{success:function(n){var f=it(n),u=0,r;i.updated.length&&(r=f[u],r.passed&&t.success(r.models.length?r.models:[],"update"),u++);i.destroyed.length&&(r=f[u],r.passed&&t.success([],"destroy"),u++);i.created.length&&(r=f[u],r.passed&&t.success(r.models,"create"))},error:function(n,i,r){t.error(n,i,r)}},f))}}}})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t,i){(i||t)()});